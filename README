Architecture :

fastapi movie-service :     8001:8000

fastapi cast-service :      8002:8000

Postgres movie-service :    postgres:12.1-alpine
                            POSTGRES_USER=movie_db_username
                            POSTGRES_PASSWORD=movie_db_password
                            POSTGRES_DB=movie_db_dev

Postgres cast-service :     postgres:12.1-alpine
                            POSTGRES_USER=cast_db_username
                            POSTGRES_PASSWORD=cast_db_password
                            POSTGRES_DB=cast_db_dev

NGINX :                     8080:8080

volumes :                   postgres_data_movie:
                            postgres_data_cast:


---------------------------

Image : Docker
docker build -t jhtyl13r/movie-fastapi .
docker push jhtyl13r/cast-fastapi

--------------------------

export KUBECONFIG=/etc/rancher/k3s/k3s.yaml

---------------------------
Verification FASTAPI :
http://52.214.28.10:31572/api/v1/movies/
http://52.214.28.10:31572/api/v1/casts
http://34.242.134.244:30484/api/v1/movies/
http://34.242.134.244:32550/api/v1/casts/

---------------------------


git branch = voir les branch
git branch -d feature1
